support plan
支持计划
使用限制
使用场景
基本（Basic）
提供一般性支持，响应时间较长（~24小时），不含电话支持
个人用户、尝试 Azure 或构建简单解决方案的客户
开发者（Developer）
8 小时响应时间，仅周一至周五提供技术服务
开发者个人及小型团队，开发阶段的项目及业务
标准（Standard）
针对关键问题有2小时的快速响应
中大型客户和企业，全天候运行的业务
专业直通（Professional Direct）
针对关键问题有1小时的快速响应
需要最高级别技术支持的企业级客户
高级（Premier）
定制支持，需联系销售以了解具体服务
对技术支持要求极高且寻求个性化定制支持的客户


在 Azure 中，Account、AD（Azure Active Directory）、Subscription、Resource Group 和 Management Group 之间存在一种层级关系。以下是它们之间的关系：

1. Account：Azure 账号代表您在 Azure 上的身份，通常关联到您的邮箱地址和密码。您可以使用 Azure 账号登录到 Azure 门户，并按照权限进行操作。

2. AD (Azure Active Directory)：Azure Active Directory 是一个身份和访问管理服务，用于提供身份验证和授权。AD 租户包含您组织中的所有用户、组和应用程序。账号与 AD 租户相关联。

3. Management Group：这是一个用于管理多个订阅的容器。它允许您为一组订阅定义统一的策略、访问控制和合规性规则。Management Group 可帮助您更好地组织和管理跨订阅的资源。

4. Subscription：订阅是一个账单实体，用于为您的组织的 Azure 服务和资源提供隔离。订阅是实际存储和管理资源的逻辑容器。订阅会关联到具体的 Azure AD 租户。

5. Resource Group：Resource Group 是订阅下的一个资源管理容器。它用于将相似生命周期和业务目的的资源组织在一起。通过 Resource Group，您可以对资源进行统一的管理、监控和访问控制。

结构关系：
```
Azure Account
 └─ Azure Active Directory (AD)
      └─ Management Group (optional)
           └─ Subscription
                └─ Resource Group
```

在此层级关系中，Azure账号和Azure AD用于身份验证和授权；管理组（如果使用）可以跨多个订阅应用策略；订阅则用于组织和分隔资源；而在订阅级别下，资源组负责管理具有相似生命周期的资源。

有关管理组的重要事项：
* 在单个目录中可以支持 10,000 个管理组。
* 一个管理组树最多可支持六个级别的深度。 此限制不包括根级别或订阅级别。
* 每个管理组和订阅只能支持一个父项。



实现一个允许本地网络的客户端计算机与 Azure 虚拟机通信的解决方案

您在实施 Azure VPN Gateway 时确实需要创建一个网关子网。因此，应将以下三个 Azure 资源包含在您的推荐中：

1. Azure Virtual Network（VNet）：用于托管您的 Azure 虚拟机。
2. Gateway Subnet：一个特殊的子网，它是 VNet 的一部分，并专门用于托管 Azure VPN Gateway 实例。
3. Azure VPN Gateway：用于与 Azure VNet 建立连接的站点到站点 VPN连接。

在设置 Azure Virtual Network 时，您需要为 VPN Gateway 创建一个网关子网。网关子网用于托管 VPN Gateway 实例，使您的 Azure 虚拟网络能够与本地网络建立安全连接。在创建 VNet 和子网后，请确保将 VPN Gateway 部署在网关子网中。
创建 Azure 虚拟网络、网关子网和 VPN Gateway 之后，您可以实现本地计算机与位于 Azure 中的虚拟机之间的沟通。


Azure每一种存储服务对应的类型

Azure 提供了多种存储服务，下面列出了每种存储服务及其对应的数据类型:

1. Azure Blob 存储（Azure Blob Storage）：适用于存储非结构化数据，如文本或二进制数据。Blob 存储有三种类型的 Blob：
- 块 Blob（Block Blobs）：用于存储文本和二进制数据，擅长处理大型文件，如图像、音频、视频和日志文件等。
- 附加 Blob（Append Blobs）：专门用于处理追加操作（例如日志记录等）的Blob类型，允许高速追加数据到 Blob 末尾。
- 页面 Blob（Page Blobs）：适用于频繁读写操作的大型文件（最大8TB），如虚拟机数据磁盘的VHD文件。
  容器（Container）是 Azure Blob 存储中的一个概念。在 Azure Blob 存储中，容器被用于组织和管理Blob数据。容器是 Azure Blob 存储的一种逻辑分组结构，类似于文件夹的概念。容器和 Blob 是 Azure Blob 存储的两个级别，其中容器是顶级实体。每个存储帐户可以有多个容器，每个容器可以包含许多 Blobs（块 Blob、附加 Blob 或页面 Blob）。在使用 Azure Blob 存储时，需要先创建容器，然后将相关 Blob 数据上传到这些容器中，从而实现数据的组织和管理。

总之，容器是 Azure Blob 存储的一个核心概念，用于对 Blob 数据进行组织和管理。

2. Azure 文件存储（Azure File Storage）：提供了完全托管的文件共享服务基于SMB协议，可以让多个虚拟机同事访问和共享文件。适用于传统的文件服务器迁移到云的场景或者云上应用需要共享文件系统的场景。

3. Azure 队列存储（Azure Queue Storage）：主要用于消息队列，提供了异步消息通信，帮助实现应用程序之间的解耦合。例如，一个应用程序可以将消息发送到队列，另一个应用程序可以从队列中取出并处理消息。

4. Azure 表存储（Azure Table Storage）：提供了大规模的NoSQL键值存储，非常适合存储大量的非关系或半结构化数据，例如日志、配置或设备数据。请注意，Azure 表存储现已逐渐被 Cosmos DB 表 API 取代，Cosmos DB 提供了全球可扩展的高性能存储服务和多种数据模型。

5. Azure 磁盘存储（Azure Disk Storage）：主要提供持久性磁盘存储，用于虚拟机系统磁盘和数据磁盘。分为非托管磁盘（Unmanaged Disk，其存储在 Blob Storage 页面 Blob中）和托管磁盘（Managed Disk，由 Azure 更好地管理和优化存储性能）。

这些存储服务共同为 Azure 云基础架构提供了一套完整的数据存储方案，以满足不同类型的数据、性能需求和场景。在选择存储服务时，需要根据应用场景、数据类型和性能需求来确保适合的配置和优化。

Azure Cosmos DB

Azure Cosmos DB 是一种全球分布式的多模型数据库服务，提供低延迟数据访问、高可用性和弹性扩展。它通过面向文档的数据模型本地支持 JSON 文档，并允许您从多个地区同时添加和访问数据。


以下表格概述了 Azure 资源组的主要特点
特点
描述
结构化管理
资源组提供了组织和管理相关资源的结构化方法，方便按项目、应用程序或团队进行分类。
生命周期管理
可以一次性删除整个资源组及其包含的所有资源，实现整个组内资源的统一生命周期管理。
统一访问控制
资源组支持基于角色的访问控制（RBAC），可为整个资源组分配权限，无需单独配置每个资源的访问控制。
共享设置
资源组内的资源可以共享相同的部署设置、监视策略和定价策略。
跨地域部署
资源组允许包含在不同 Azure 区域部署的资源，以根据应用程序需求、性能和数据主权要求灵活地部署和管理资源。
需要注意的是，标签附加到资源组上并不意味着该资源组中的所有资源自动继承这些标签。如果您希望组内的资源也具有相同的标签，需要单独为这些资源添加标签。


Azure Storage

Azure Storage 提供了不同的访问层级：Hot（热）、Cool（冷）和 Archive（归档）。归档访问层具有最低的存储成本。然而，与 Hot 和 Cool 层相比，它的数据检索成本较高。在 Archive 层中的数据可能需要几个小时才能检索。当一个 blob 处于归档存储中时，blob 数据处于离线状态，无法读取、覆盖或修改。要读取或下载归档中的 blob，您必须先将其重新水合（rehydrate）至在线层（Hot 或 Cool 层）。


Event Hub 与 Monitor
特点
Azure Event Hubs
Azure Monitor
用途
实时数据流处理和实时分析
收集、分析和监控 Azure 资源的遥测数据
数据源
大量的事件数据源，如 IoT 设备/应用程序
Azure 资源的日志和指标
实时处理
支持实时数据处理和分析
更侧重于历史数据监控和分析，但也支持实时指标监控
可扩展性
高度可扩展，支持百万个并发事件源
跨资源组和订阅提供集中式监控和分析
数据分析
需要与分析服务（如 Azure Stream Analytics）或数据处理框架（如 Apache Kafka）结合使用
提供集成的 Log Analytics 工作区和 Application Insights 服务
监控和诊断
专注于事件数据流入
提供全面的 Azure 资源监控、报警和诊断功能


Azure storage

存储在 Azure 存储帐户中的数据会自动进行复制，以确保数据的持久性和高可用性。默认情况下，Azure 存储使用本地冗余存储（LRS），在同一 Azure 区域内至少对您的数据进行三次复制。这样可以保护您的数据免受硬件故障的影响，并确保高度持久性。除了 LRS，Azure 存储还提供其他冗余选项，包括：

1. 面向可用区的冗余存储（ZRS）：它将数据在同一区域内的三个可用区之间进行复制，提供更好的容错能力。
2. 地理冗余存储（GRS）：它将数据复制到距离主要区域数百英里远的次要区域，提供了更好的地区性中断保护。它会保持六个数据副本：三个在主区域，三个在次区域。
3. 读取访问地理冗余存储（RA-GRS）：它提供与 GRS 相同的冗余，但还提供对次要区域中数据的读取访问，确保在主区域发生故障时更好的可用性。


Azure region
层级
名称
描述
1
Region（区域）
一个 Azure 区域是一组部署在特定区域内的多个数据中心，这些数据中心通过专用低延迟网络相互连接。
2
Availability Zone（可用区）
可用区是位于同一 Azure 区域内的独立数据中心，这些数据中心之间隔离，以提供额外的故障容错能力。
3
Datacenter（数据中心）
数据中心是托管 Azure 服务和资源的物理基础设施，可以在同一区域内部署多个数据中心以提高高可用性和冗余性。

存储备份类型
描述
本地冗余存储 (LRS)
数据在同一数据中心内进行多次复制。这提供了保护数据免受硬件故障的能力，但对于区域性的故障，如自然灾害，不提供保护。
可用区冗余存储 (ZRS)
数据在同一区域中的多个数据中心（可用区）之间进行复制。这提供了更高级别的冗余，保护数据免受单个数据中心或可用区故障的影响。
地理冗余存储 (GRS)
数据在主区域和配对的辅助区域之间进行异地复制。这提供了更高级别的冗余，确保在原区域发生广泛中断或灾害时，您的数据完好无损。
读取访问地理冗余存储 (RA-GRS)
数据在主区域和配对的辅助区域之间进行异地复制，同时在辅助区域提供只读访问。这意味着在主区域发生故障时，用户仍可以从配对的辅助区域访问数据。
读取访问地理可用区冗余存储 (RA-GZRS)
数据在主区域内的可用区之间以及配对的辅助区域内进行复制，同时辅助区域提供只读访问。这样可以在主区域故障时，从配对的辅助区域访问数据。
在这五种冗余存储选项中，读取访问地理可用区冗余存储 (RA-GZRS) 提供了最高级别的冗余和数据可用性。它在主区域内的多个数据中心（可用区）之间进行数据复制，并与配对的辅助区域内的多个数据中心（可用区）进行异地复制。同时，在辅助区域提供只读访问。


Azure important services

* Azure Monitor 是 Azure 的一个功能，它为您的 Azure 资源提供监控和诊断数据。
* Azure Advisor 是 Azure 的一个功能，它为改善 Azure 资源的性能、安全性和成本效益提供建议。
* Azure Service Health 是 Azure 的一个功能，它帮助您了解自己正在使用的 Azure 服务的可用性情况，并在计划内和计划外的维护事件可能影响这些服务时提供指导。
* Microsoft Trust Center 是一个网站，提供有关微软在数据隐私和安全方面承诺的信息。


Azure Marketplace for third part.










Azure Advisor 是一个 Azure 中的个性化优化建议服务，它可以分析您的 Azure 资源配置及运行方式，并提供有关性能、安全性、可靠性和成本方面的改进建议。但是Azure Advisor 并不专门针对 Azure Active Directory（Azure AD）环境的安全性提供优化建议。

Azure serverless




Azure policy

Azure Policy 是一项功能，它允许您在 Azure 环境中创建、分配和管理策略，以对资源配置进行标准化并确保各种法规、合规性和操作要求得到满足。Azure Policy 有助于实现资源治理和控制，以确保组织在整个 Azure 订阅中遵循一致的规则和约定。

以下是 Azure Policy 的一些主要功能：

1. 定义策略：您可以使用已有的内置策略定义，也可以创建自定义策略定义，以描述并规定允许和不允许的资源配置。

2. 分配策略：将策略分配给订阅、资源组或管理组。策略分配可能包含参数、条件和例外情况，使您可以灵活地将策略应用于选定的范围。

3. 策略评估：Azure Policy 会在新创建或更新的资源上，实时评估策略的匹配程度。此外，Azure Policy 可以按需评估或定期评估现有资源的状态来确保持续的合规性。

4. 合规报告：Azure Policy 提供了合规报告，显示订阅、资源组或管理组范围内的资源合规性状态。此报告有助于您了解组织的合规状况，并采取相应的措施解决不合规的资源。

5. 自动化修复：某些策略支持自动化修复功能，使得在不合规的资源被检测到时，Azure Policy 能够自动将其修改为符合策略要求的配置。





Azure Blueprints
Azure Blueprints 可以捆绑以下组件：
1. ARM 模板：这使您能够自动化创建和配置多个资源，如虚拟机、网络、存储等。
2. Azure Policy：这使您能够强制实施特定规则和标准，以确保资源的合规性。
3. 角色分配：Azure Blueprints 还可以包含定义的 RBAC (Role-Based Access Control) 角色分配，为资源分配特定权限。
   Azure Blueprints 使您能够定义基于组织要求的复杂蓝图，并将这些蓝图作为一个完整的包在组织、订阅或资源组级别应用。这有助于确保资源的一致性部署、策略应用以及角色分配，使资源符合公司的合规性、治理和安全性要求。通过使用 Azure Blueprints，您可以更好地控制您的整体资源管理和监管策略。

ExpressRoute
ExpressRoute 是一种通过专用网络连接将您的本地网络与 Azure 虚拟网络（VNet）连接起来的服务。相对于使用传统的公共 Internet 连接 Azure，ExpressRoute 能够提供更快、更可靠、更安全的网络体验。
Azure ExpressRoute 实际上可以在第 2 层（数据链路层）或第 3 层（网络层）工作。
* 第 2 层（数据链路层）：在这里，您的本地网络和 Azure 之间会使用 Layer 2 以太网连接。在这种情况下，您需要在本地网络上管理网络层（IP 地址分配、路由等）。
* 第 3 层（网络层）：在这里，ExpressRoute 提供了一个 BGP（边界网关协议）会话，可以将您的本地网络和 Azure 之间进行路由交换。这使得您可以更容易地在本地和云环境之间进行路由管理。

Azure 命令行工具
命令行工具
用途
使用限制
Azure PowerShell
创建、管理和监控 Azure 资源的 PowerShell 命令。
使用 Azure PowerShell 之前，需要在本地计算机上安装 PowerShell。
Azure CLI
跨平台命令行工具，用于管理和操作 Azure 资源。
使用 Azure CLI 之前，需要在本地计算机上安装 CLI。虽然跨平台，但脚本可能因操作系统而异。
Azure Cloud Shell (Bash)
提供基于浏览器的 Bash 环境以管理 Azure 资源。
依赖于网络连接，需要对 Azure Cloud Shell 配置持久性存储。仅提供 Bash 支持，不适用于 PowerShell 脚本。
Azure Cloud Shell (PowerShell)
提供基于浏览器的 PowerShell 环境以管理 Azure 资源。
依赖于网络连接，需要对 Azure Cloud Shell 配置持久性存储。仅提供 PowerShell 支持，不适用于 Bash 脚本。
Azure Functions Core Tools
本地开发、测试和部署 Azure Functions应用。
可能需要安装特定版本的 Node.js、.NET Core、Python 等运行时。
Azure Storage Explorer
访问、管理和监控 Azure 存储账户（包括 Blob、文件、队列和表存储）。
使用之前需要将其下载并安装到本地计算机，可能存在因操作系统而异的界面和性能差异。
Azure Service Fabric CLI (sfctl)
用于管理和操作 Azure Service Fabric 群集。
使用之前需要在本地计算机上安装。目前 sfctl 不再维护，建议使用 Service Fabric Mesh CLI (sfmctl) 替代。
Azure IoT CLI Extension
用于管理和操作 Azure IoT 设备和服务。
需要在已安装 Azure CLI 的基础上安装 IoT CLI 扩展。


A: wrong, you need Azure Powershell Module, Powershell only isn't enoght
B: correct, you have Powershell and the module to create Azure resources
C: correct, you have Powershell and the module to create Azure resources
D: wrong, with Azure CLI you don't execute Powershell script
E: correct, from a browser you can connect to Azure Portal and execute Azure Powershell comdlet


Azure Cloud Shell 提供了两种不同的命令行环境：PowerShell 和 Bash。这两种环境都内置了 Azure CLI，因此它们都可以执行 az 命令。然而，PowerShell 和 Bash 分别遵循 Windows 和 Unix/Linux 风格的命令行体验，这意味着它们的命令格式和语法有所不同。

Azure 数据迁移

1. Azure Migrate:一款 Azure 服务，帮助用户便捷地将本地虚拟机和数据中心迁移到 Azure 云。主要功能包括：对现有资源进行自动发现和评估、预测迁移成本、检查兼容性问题，并提供无缝迁移路径。支持多种虚拟化平台，包括 VMware、Hyper-V、物理服务器和其他公有云提供商。总之，Azure Migrate 让您的迁移过程更加简化、经济且高效。

2. Azure Data Box:一种离线数据迁移设备，用于将大量数据传输到 Azure 云存储。Data Box 设备在本地储存数据时将数据加密，然后将设备安全地发送回 Azure 数据中心，在那里将数据上传到您的 Azure 存储账户。Aure Data Box 是适合传输至少几十 TB 数据的情况，如果是更小规模的数据迁移，建议使用在线数据迁移服务，如 AzCopy。

Azure 各种监控
* Azure Monitor：主要关注 Azure 资源、应用程序和服务的整体状态，同时提供了丰富的仪表板和工具，以帮助用户快速诊断和解决问题。
* Azure Application Insights：主要关注应用程序的性能、用户体验和异常情况，以帮助用户识别和排除应用程序中的瓶颈和故障。
* Azure Network Watcher：主要关注 Azure 虚拟网络（VNet）中的网络流量和连接问题，以帮助用户监视和保护其 VNet 环境。
* Azure Service Health：主要关注 Azure 服务的可用性和稳定性，告知用户有关服务问题和潜在问题的详细信息，并说明解决问题的计划。
* Azure Security Center：主要关注 Azure 资源和各种云安全威胁，并为用户提供各种安全建议和最佳实践。并为用户推荐适合他们的安全举措。
* Azure Advisor：主要通过分析用户访问 Azure 帐户时使用的 Azure 资源，推荐有助于提高安全性、性能、可用性、成本效益等方面的最佳实践。
* Azure Log Analytics：主要收集并处理 Azure 资源和环境中的数据，搜索和分析数据的几乎所有方面，并生成有关环境性能、故障状况等的仪表板。
* Azure Diagnostics：主要帮助用户分析应用程序故障和性能瓶颈的原因，并收集和分析应用程序的诊断数据和日志。
* Azure Health Advisories：是一种实时且动态的服务，主要提供有关 Azure 服务中可能发生的事件和问题的信息，以及解决问题的计划。


深层防御

* 物理安全性层是保护数据中心内计算硬件的第一道防线。
* 标识和访问层控制对基础结构和变更控制的访问。
* 外围层使用分布式拒绝服务 (DDoS) 防护来筛选大规模攻击，以免用户遭受拒绝服务攻击。
* 网络层通过分段和访问控制来限制资源之间的通信。
* 计算层保护对虚拟机的访问。
* 应用程序层可帮助确保应用程序安全且无安全漏洞。
* 数据层控制对需要保护的业务和客户数据的访问。


Microsoft Defender for Cloud
Microsoft Defender for Cloud 的重点主要集中在以下三个方面：
1. 巨大的防御能力：Microsoft Defender for Cloud 强调自动发现、评估并防止各种安全威胁的能力，为客户的云资产提供严格的保护措施。
2. 全面的威胁情报：Microsoft Defender for Cloud 能够帮助客户收集各种威胁情报，并与其他来源的活动日志和漏洞扫描等进行关联，从而更精准地识别和应对潜在的安全威胁。
3. 便捷的配置和集成：Microsoft Defender for Cloud 集成了 Azure Monitor、Azure Security Center等监控和安全服务，提供了丰富的安全设置和检测机制，并且具有简单且易于使用的配置界面，让用户轻松管理其云环境的安全性。

Microsoft Defender for Cloud 和深层防御都是与云安全相关的概念。但是，它们有明显的区别
* Microsoft Defender for Cloud：Microsoft Defender for Cloud 是一种云安全服务，旨在保护客户在 Azure 云上运行的各种资源和服务。它强调通过自动发现、评估并防止各种安全威胁来提供严格的保护措施。
* 深层防御：深层防御是一种安全机制，专门针对网络威胁和恶意软件攻击而设计。它依赖于多层次和多维度的安全防护机制，以确保完全的安全防护。

Azure Key Vault
Azure Key Vault 是 Microsoft Azure 平台上的一项托管服务，用于保存和管理加密密钥和其他敏感数据（如密码、证书等）。它允许开发者通过 REST API 调用，并通过 Azure 操作面板或其他 Azure 资源管理服务进行操作。Azure Key Vault 可以让您集中管理敏感信息，并提供安全的访问管理功能，以遵守行业标准和合规要求。

Correct answer is B. Solution : Azure Key Vault



Yes as Identity Protection is a sub setting of Conditional access. I originally wanted to say NO but after viewing the linked article it is clear that A:YES is the correct answer here.


资源琐 resources lock

资源锁有两种类型，一种防止用户删除，另一种防止用户更改或删除资源。资源锁可应用于单个资源、资源组，甚至是整个订阅。 资源锁是继承的，这意味着如果在资源组上放置一个资源锁，则资源组内的所有资源也将应用该资源锁。若要修改锁定的资源，必须先删除锁。 删除锁后，就可以应用有权执行的任何操作。 无论 RBAC 权限如何，资源锁都适用。 即使你是资源的所有者，也必须先删除锁，才能执行受阻止的活动

SaaS PaaS IaaS





